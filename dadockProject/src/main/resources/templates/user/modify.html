<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<link rel="icon" type="image/png" href="/public/paper_img/favicon.1.ico">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	<meta charset=UTF-8>
	<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
    <meta name="viewport" content="width=device-width" />
	<title>Dadock::다독</title>
</head>
<body>
	<header th:insert="headerNav"></header> 
    <div class="wrapper" style="text-align: center;">
   		<h1 class="m-3 d-flex justify-content-between align-items-center">회원 수정</h1>
        <div>
            
            <div class="container">
                <div class="row d-flex justify-content-center">
                    <div class="col-md-4 col-md-offset-4 col-sm-6 col-sm-offset-3 col-xs-10 col-xs-offset-1 ">
                        <div>
                            <h3 class="title"></h3>
                            <form action="/user/modify.do" method="post" class="detail-form" enctype="multipart/form-data">
						      <br>
                              <label class="btn btn-outline-secondary" for="imgFile">
                              	 프로필 사진 등록
                              	 <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-image" viewBox="0 0 16 16">
							  	 	<path d="M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"/>
							  		<path d="M2.002 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2h-12zm12 1a1 1 0 0 1 1 1v6.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12V3a1 1 0 0 1 1-1h12z"/>
							     </svg>
                              </label>
                              <input style="display: none;" type="file" id="imgFile" name="imgFile">
						      <img style="width:300px;"  id="preview-image" th:src="@{/public/user/img/{fileName}(fileName=${user.profile_img})}">
                                	<br>
                                	<br>
                                	<label>아이디</label>
                                	<input type="text" class="form-control" placeholder="id@example.com" th:value="${user.user_id}"  name="user_id" readonly>
                                    <br>
                                    <label>이름</label>
                                    <input type="text" class="form-control" placeholder="이름" th:value=${user.name} name="name">
                                    <br>
                                    <label>비밀번호</label>
                                    <input type="password" class="form-control" placeholder="비밀번호" th:value=${user.pw} name="pw">
                                    <br>
                                    <label>비밀번호 확인</label>
                                    <input type="password" class="form-control" placeholder="비밀번호 확인" th:value=${user.pw_check} name="pw_check">
                                    <br>
                                    <label>주소</label>
                                    <input type="text" id="address_kakao" class="form-control" placeholder="주소" th:value="${user.address}" name="address" readonly>
                                     <br>
                                    <label>상세주소</label>
                                    <input type="text" class="form-control" placeholder="상세주소" th:value="${user.address_detail}" name="address_detail">
                                    <br>
                                    <label>이메일</label>
                                    <input type="text" class="form-control" placeholder="이메일" th:value=${user.email} name="email">
                                    <br>
                                    <label>휴대폰 번호</label>
                                    <input type="text" class="form-control" placeholder="000-0000-0000" th:value=${user.phone} name="phone">
                                    <br>
                                    <button class="btn btn-danger btn-block">수정</button>
                                    <button type="button" class="btn btn-danger btn-block"
                                    th:onclick="location.href='/user/delete/'+[[${user.user_id}]]">삭제</button>
                             </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <br>
 <footer th:insert="footer"></footer>
</body>
<script type="text/javascript">
	function readImage(input) {
	    if(input.files && input.files[0]) {
	        const reader = new FileReader()
	        reader.onload = e => {
	            const previewImage = document.getElementById("preview-image")
	            previewImage.src = e.target.result
	        }
	        reader.readAsDataURL(input.files[0])
	    }
	}
	const inputImage = document.getElementById("imgFile")
	inputImage.addEventListener("change", e => {
	    readImage(e.target)
	});
</script>
</html>